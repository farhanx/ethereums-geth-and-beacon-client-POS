# Run Connect Blockchain Geth node for Ethereum Blockchain - Post merge (Proof of Stake)
I have made these steps for people who are struggling connecting their Geth nodes to Beacon Proof of Stake chain Ethereum using Consensus Client. By following these steps you can able to have your person blockchain node and you don't need any third party provider like Infura.


Geth Pre-Requisites
------------------------------------
1) Go to the url and download latest GETH client https://geth.ethereum.org/downloads
2) Make sure you have 2TB space in your SSD or hardisk.
3) Make sure you have 16GB RAM (this recommended but you can still use 8 GB )
4) Install the Geth client make sure to select "Development Tools" option while installing Geth.
5) Open CMD in windows and write
   
  >   geth --version

Note:- make sure you see the latest version otherwise your installation is not working properly.

Geth Experiments using DataDir DEV
------------------------------------
1) Account creation : This will create a new ethereum EOA account under a new directory dedicated for geth client in development node. A development node is an in memory node that is used for testing purpose only. Make sure to enter a new password for this client. You can do this process multiple times to create new accounts.

> geth --datadir C:\\mynewnode\dev --dev account new

2) Create Secret File: Create password secret file and put inside C:\\mynewnode\dev\secret . Afteward open this file and enter the password of the account that you want to use as an owner of the geth client. 

3) Run Geth Client: Run the geth client by specifying data directory and secret file representing first EOA account password

   > geth --datadir C:\\mynewnode\dev --dev  --password C:\\mynewnode\dev\secret

4) Connect JS Console to Geth: While you will see logs on the console screen of the geth, you will find there is a file generated by geth with the name .ipc. This is an inter process communication file and it should be used with your java script console to interact with the geth. Open a new command line windows and write below command

> geth attach \\.\pipe\geth.ipc

4) List accounts : List account will display existing EOA accounts you have created or generated throught "account new" command. Every new user will be stored under a keystore directory created inside the \\mynode\dev\keystore.

> 


5) 
   
6) Geth attach and connection etc
7) send transactions between coinbase and account
8) how CLEF works 

Geth Experiments using DataDir Sepolia
---------------------------------------
1) Show what logs meaning
2) to read log : https://geth.ethereum.org/docs/fundamentals/logs 
3) Create new accounts for sepolia
4) attach console and check sepolia 
5) Show sepolia balance is not there. So we have to download prysm

Download Prysm
------------------------------------
1) https://docs.prylabs.network/docs/install/install-with-script
2) download using curl
E:\farhan\mynode\consensus\prysm>curl https://raw.githubusercontent.com/prysmaticlabs/prysm/master/prysm.bat -o prysm.bat && reg add HKCU\Console /v VirtualTerminalLevel /t REG_DWORD /d 1
3) download genesis file :  https://github.com/eth-clients/merge-testnets/blob/main/sepolia/genesis.ssz genisis file in the prysm directory 
4) run geth using
E:\>geth --datadir  E:\farhan\datadir --sepolia --http --http.api eth,net,engine,admin --authrpc.jwtsecret E:\farhan\datadir\geth\jwtsecret
5) run prysm but make sure to provide address suggested-fee-recepient from existing accounts.
E:\farhan\mynode\consensus\prysm>prysm.bat beacon-chain --execution-endpoint=http://localhost:8551 --sepolia --suggested-fee-recipient=0x9388A808006106251Ad9F752784f232ccB52D10F --jwt-secret=E:\farhan\datadir\geth\jwtsecret --genesis-state=genesis.ssz

6) Use trouble shooting 
C:\Users\farhan>curl http://localhost:3500/eth/v1/node/syncing
curl http://localhost:3500/eth/v1alpha1/node/eth1/connections



Log review between geth and prysm
----------------------------------------
https://docs.prylabs.network/docs/troubleshooting/issues-errors
https://geth.ethereum.org/docs/fundamentals/logs



Now log Metamask to your GETH Client
--------------------------------------
1) Go in metamask settings
2) Create network manually 
3) Add http://localhost:8545 which is called ENDPOINT and give chainid sepolia 11155111
4) Add the network 
5) If connects congrats 
6) Show how real metamask is working (Infura stuff with your geth)

Now connect truffle 
-------------------------
Connect truffle using geth node
try deploying a contract and see error


